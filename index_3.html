<html><body></body></html><script type="text/javascript">
    var canvas = document.createElement('canvas');
    canvas.id = "myCanvas";
    canvas.width = 600
    canvas.height = 600;
    document.body.appendChild(canvas);var ctx=canvas.getContext("2d");ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.textAlign = "center";
    ctx.color = "black";
    ctx.backgroundColor = "blue";
    ctx.font = "30px Comic Sans MS";
    ctx.fillStyle = "red";
    ctx.textAlign = "center";
    lineHeight = 40;
    // txt = 'Chan Tai Man\nABC Company\nManager\n1234\n'
    txt = 'CITIC Telecom International CPC Limited, formerly known as PSINet HK and CPCNet, is a wholly owned subsidiary of CITIC Telecom International Holdings Limited, and is a technological company involved in managed cloud computing, IP networking, information security, and data center services.'
    // txt = "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It w as popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."
    // lines = txt.split('\n');
    // txt = wordWrap(txt, 40);
    console.log(txt)
    // for (var i = 0; i < txt.length; i++)
    //     ctx.fillText(lines[i], canvas.width/2, canvas.height/2 + lineHeight * i);
    
    // function wordWrap(str, maxWidth) {
    //     var newLineStr = "\n"; done = false; res = '';
    //     while (str.length > maxWidth) {
    //         found = false;
    //         for (i = maxWidth - 1; i >= 0; i--) {
    //             if (testWhite(str.charAt())) {
    //                 res = res + [str.slice(0, i), newLineStr].join('');
    //                 console.log(res)
    //                 str = str.slice(i + 1);
    //                 found = true;
    //                 break;
    //             }
    //         }
    //         if (!found) {
    //             res += [str.slice(0, maxWidth), newLineStr].join('');
    //             str = str.slice(maxWidth);
    //         }
    //     }
    //     return res + str;
    // }

    function testWhite(x) {
        var white = new RegExp(/^\s$/);
        return white.test(x.charAt(0))
    }

    function wordWrap(str, maxWidth) {
        var newLineStr = "\n"; done = false; res = '';
        found = false;
        console.log(str.length)
        while (str.length > maxWidth) {
            for (i = maxWidth; i && !found; i++) {
                if (testWhite(str.charAt(i))) {
                    res = res + [str.slice(0, i), newLineStr].join('');
                    console.log(res)
                    str = str.slice(i + 1);
                    found = true;
                }
            }
        }
        console.log(testWhite(str.charAt()))
        
    }
</script>